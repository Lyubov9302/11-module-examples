{"version":3,"file":"03-practice.js","sources":["../src/03-practice.js"],"sourcesContent":["import axios from \"axios\";\n\nimport './css/styles.css';\nimport { document } from \"postcss\";\n\n// - https://thecatapi.com/\n\n// * 1) Створити сторінку яка при завантаженні робить запит на бекенд і отримує\n//  *  всі доступні breeds. https://api.thecatapi.com/v1/breeds\n//  *\n//  * 2) В інтерфейсі є форма пошуку з прив'язаним datalist з завантаженими breeds.\n//  *\n//  * 3) Користувач в формі вводить або обирає необхідний breed і при сабміті форми\n//  *  виконується GET запит за зображенням.\n//  *\n//  * 4) Після запиту під формою відображається картка з зображенням.\n//  *\n//  * 5) Під час запиту під формую відображається loader\n \nconst form = document.querySelector(\"#search-form\");\nconst breedInput = document.querySelector(\"#breed-input\");\nconst dataList = document.querySelector(\"#data-list\");\nconst loader = document.querySelector(\"#loader\");\nconst catCard = document.querySelector(\"#cat-card\");\n\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction fetchBreeds() {\n    axios(\"https://api.thecatapi.com/v1/breeds\")\n     .then((res) => {\n        console.log(res)\n        breedsList.insertAdjacentHTML(\"beforeend\", populateDataList(re.data))\n     })\n     .catch((error) => {\n        console.log(error)\n     })\n}\n\nfunction populateDataList(arr) {\n\n    return arr.map(({id, name}) => `\n<option value=\"${name}\" data-id=\"${id}\"></option>\n\n    `).join(\"\");\n}\n\nfunction handleSubmit(event) {\n event.preventDefault();\n\n\n\nconst myBreed = breedInput.value;\nconst selectedBreed = Array.from(breedsList.options)\n.find((item) => item.value.toLowerCase() === myBreed.toLowerCase());\n\nif(!selectedBreed) {\n    alert(\"Оберіть існуючу породу\");\n    return;\n}\n\n\nconst breedId = selectedBreed.dataset.id;\nloader.classList.remove(\"hidden\");\n\naxios(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n   .then( res => {\n    if(res.data.length > 0) {\n    const catImg = res.data[0].url;\n\n\n    catCard.innerHTML = `\n    <div class=\"card\">\n    <img src=\"${catImg}\" alt=\"${myBreed}\" class=\"card-image\"/>\n    <div class=\"card-body\">\n    <h2 class=\"card-title\">${myBreed}</h2>\n    </div>\n    </div>\n    `\n\n    } else {\n   catCard.innerHTML = `<p class=\">Зображення не знайдено</p>`\n    }\n   })\n\n   .catch(error => {\n    console.log(error);\n   })\n   .finally(() => {\n    loader.classList.add(\"hidden\");\n   })\n}"],"names":["form","document","breedInput","loader","catCard","handleSubmit","event","myBreed","selectedBreed","item","breedId","axios","res","catImg","error"],"mappings":"+IAmBA,MAAMA,EAAOC,EAAS,cAAc,cAAc,EAC5CC,EAAaD,EAAS,cAAc,cAAc,EACvCA,EAAS,cAAc,YAAY,EACpD,MAAME,EAASF,EAAS,cAAc,SAAS,EACzCG,EAAUH,EAAS,cAAc,WAAW,EAGlDD,EAAK,iBAAiB,SAAUK,CAAY,EAqB5C,SAASA,EAAaC,EAAO,CAC5BA,EAAM,eAAc,EAIrB,MAAMC,EAAUL,EAAW,MACrBM,EAAgB,MAAM,KAAK,WAAW,OAAO,EAClD,KAAMC,GAASA,EAAK,MAAM,gBAAkBF,EAAQ,YAAW,CAAE,EAElE,GAAG,CAACC,EAAe,CACf,MAAM,wBAAwB,EAC9B,MACJ,CAGA,MAAME,EAAUF,EAAc,QAAQ,GACtCL,EAAO,UAAU,OAAO,QAAQ,EAEhCQ,EAAM,wDAAwDD,CAAO,EAAE,EACnE,KAAME,GAAO,CACb,GAAGA,EAAI,KAAK,OAAS,EAAG,CACxB,MAAMC,EAASD,EAAI,KAAK,CAAC,EAAE,IAG3BR,EAAQ,UAAY;AAAA;AAAA,gBAERS,CAAM,UAAUN,CAAO;AAAA;AAAA,6BAEVA,CAAO;AAAA;AAAA;AAAA,KAKpC,MACGH,EAAQ,UAAY,uCAEvB,CAAI,EAEA,MAAMU,GAAS,CACf,QAAQ,IAAIA,CAAK,CACrB,CAAI,EACA,QAAQ,IAAM,CACdX,EAAO,UAAU,IAAI,QAAQ,CACjC,CAAI,CACJ"}