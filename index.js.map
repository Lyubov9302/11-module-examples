{"version":3,"file":"index.js","sources":["../src/11-module.js","../src/11-authomodule.js"],"sourcesContent":["// 1 - основий запиту fetch API, \n// - URL запиту\n// - обробка респонс з 404\n// - встановлюєм ліміт на список який запитуємо\n\n// https://jsonplaceholder.typicode.com/todos\n\nconst list = document.querySelector(\".todo-list\");\n\n\nconst params = new URLSearchParams({\n    _limit: 5,\n    _page: 1\n});\n\nconsole.log(params);\n\nfetch(`https://jsonplaceholder.typicode.com/todos?${params}`)\n.then((res) => {\n\n   if (!res.ok) {\n     throw new Error(res.status); \n   }\n\n    return res.json();\n})\n\n.then(data => {\n    console.log(\"then\", data);\n    list.insertAdjacentHTML(\"beforeend\", createMarkup(data));\n})\n\n.catch(error => {\n    console.log(\"CATCH\", error);\n})\n\n\n// fetch(`https://jsonplaceholder.typicode.com/users`)\n// .then((res) => {\n\n//    if (!res.ok) {\n//      throw new Error(res.status); \n//    }\n\n//     return res.json();\n// })\n\n// .then(data => {\n//     console.log(\"users\", data);\n//     list.insertAdjacentHTML(\"beforeend\", createMarkup(data));\n// })\n\n// .catch(error => {\n//     console.log(\"CATCH\", error);\n// })\n\nfunction createMarkup(todos) {\n    return todos.map(({id, title, completed}) => `\n  <li data-id=\"${id}\" class=\"list-item\">\n  <input type=\"checkbox\" ${completed && \"checked\"}/>\n  <p>${title}</p>\n  </li>\n    `).join('');\n}\n\n// - всередині функції запит, зовні обробка\n\nfunction foo(url) {\nreturn fetch(url)\n.then(result => {\n    if(!result.ok) {\n        throw new Error(result.status);\n    }\n    return result.json();\n})\n}\n\nfoo('https://jsonplaceholder.typicode.com/todos')\n.then(data => {\n    list.insertAdjacentHTML('beforeend', createMarkup(data))\n})\n\n.catch(error => {\n    console.log(error);\n})\n\nfoo('https://jsonplaceholder.typicode.com/users')\n.then(data => {\n    console.log(data);\n})\n\n.catch(error => {\n    console.log(error);\n})","\n\n// 2 - авторизація запитів з ключами\n// які бувають:\n// - у query String\n// - у хедерах\n\n// Для прикладу викор https://pixabay.com/api/docs\n\nconst API_KEY = \"51359701-f6006c27d1fc3647654901390\";\n\nconst list = document.querySelector(\".list\");\n\nconst params = new URLSearchParams({\n    key: API_KEY,\n    q: \"red rose\"\n});\n\n\nfetch(`https://pixabay.com/api?${params}`)\n.then(res => {\n    if(!res.ok) {\n        throw new Error(res.statusText);\n    }\n\n    return res.json();\n})\n.then(data => {\n    console.log(data);\n    list.insertAdjacentHTML(\"beforeend\", createMarkup(data.hits))\n})\n.catch(error => {\n    console.log(error.message);\n})\n\nfunction createMarkup(arr) {\n    return arr.map(({previewURL, tags}) => `\n  <li>\n  <img src=\"${previewURL}\" alt=\"${tags}\" width=\"300\"/>\n  </li>\n    `).join(\"\");\n}\n\n\nfetch(`https://pixabay.com/api?${params}`, {\n    headers: {\n        Authorization: `Bearer lalala`\n    }\n}) \n"],"names":["list","params","res","data","createMarkup","error","todos","id","title","completed","foo","url","result","API_KEY","arr","previewURL","tags"],"mappings":"wFAOA,MAAMA,EAAO,SAAS,cAAc,YAAY,EAG1CC,EAAS,IAAI,gBAAgB,CAC/B,OAAQ,EACR,MAAO,CACX,CAAC,EAED,QAAQ,IAAIA,CAAM,EAElB,MAAM,8CAA8CA,CAAM,EAAE,EAC3D,KAAMC,GAAQ,CAEZ,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG3B,OAAOA,EAAI,MACf,CAAC,EAEA,KAAKC,GAAQ,CACV,QAAQ,IAAI,OAAQA,CAAI,EACxBH,EAAK,mBAAmB,YAAaI,EAAaD,CAAI,CAAC,CAC3D,CAAC,EAEA,MAAME,GAAS,CACZ,QAAQ,IAAI,QAASA,CAAK,CAC9B,CAAC,EAsBD,SAASD,EAAaE,EAAO,CACzB,OAAOA,EAAM,IAAI,CAAC,CAAC,GAAAC,EAAI,MAAAC,EAAO,UAAAC,CAAS,IAAM;AAAA,iBAChCF,CAAE;AAAA,2BACQE,GAAa,SAAS;AAAA,OAC1CD,CAAK;AAAA;AAAA,KAEP,EAAE,KAAK,EAAE,CACd,CAIA,SAASE,EAAIC,EAAK,CAClB,OAAO,MAAMA,CAAG,EACf,KAAKC,GAAU,CACZ,GAAG,CAACA,EAAO,GACP,MAAM,IAAI,MAAMA,EAAO,MAAM,EAEjC,OAAOA,EAAO,MAClB,CAAC,CACD,CAEAF,EAAI,4CAA4C,EAC/C,KAAKP,GAAQ,CACVH,EAAK,mBAAmB,YAAaI,EAAaD,CAAI,CAAC,CAC3D,CAAC,EAEA,MAAME,GAAS,CACZ,QAAQ,IAAIA,CAAK,CACrB,CAAC,EAEDK,EAAI,4CAA4C,EAC/C,KAAKP,GAAQ,CACV,QAAQ,IAAIA,CAAI,CACpB,CAAC,EAEA,MAAME,GAAS,CACZ,QAAQ,IAAIA,CAAK,CACrB,CAAC,ECpFD,MAAMQ,EAAU,qCAEVb,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAS,IAAI,gBAAgB,CAC/B,IAAKY,EACL,EAAG,UACP,CAAC,EAGD,MAAM,2BAA2BZ,CAAM,EAAE,EACxC,KAAKC,GAAO,CACT,GAAG,CAACA,EAAI,GACJ,MAAM,IAAI,MAAMA,EAAI,UAAU,EAGlC,OAAOA,EAAI,MACf,CAAC,EACA,KAAKC,GAAQ,CACV,QAAQ,IAAIA,CAAI,EAChBH,EAAK,mBAAmB,YAAaI,EAAaD,EAAK,IAAI,CAAC,CAChE,CAAC,EACA,MAAME,GAAS,CACZ,QAAQ,IAAIA,EAAM,OAAO,CAC7B,CAAC,EAED,SAASD,EAAaU,EAAK,CACvB,OAAOA,EAAI,IAAI,CAAC,CAAC,WAAAC,EAAY,KAAAC,CAAI,IAAM;AAAA;AAAA,cAE7BD,CAAU,UAAUC,CAAI;AAAA;AAAA,KAEjC,EAAE,KAAK,EAAE,CACd,CAGA,MAAM,2BAA2Bf,CAAM,GAAI,CACvC,QAAS,CACL,cAAe,eAClB,CACL,CAAC"}